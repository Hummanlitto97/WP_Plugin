(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const e=t=>"[object Object]"===Object.prototype.toString.call(t),a=(t,e)=>{const a=document.createElement(t);if(e&&"object"==typeof e)for(const t in e)"html"===t?a.innerHTML=e[t]:a.setAttribute(t,e[t]);return a},s=t=>{t instanceof NodeList?t.forEach((t=>s(t))):t.innerHTML=""},i=(t,e,s)=>a("li",{class:t,html:`<a href="#" data-page="${e}">${s}</a>`}),n=(t,e)=>{let a,s;1===e?(a=0,s=t.length):-1===e&&(a=t.length-1,s=-1);for(let i=!0;i;){i=!1;for(let n=a;n!=s;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){const a=t[n],s=t[n+e],r=a;t[n]=s,t[n+e]=r,i=!0}}return t};class r{constructor(t,e){return this.dt=t,this.rows=e,this}build(t){const e=a("tr");let s=this.dt.headings;return s.length||(s=t.map((()=>""))),s.forEach(((s,i)=>{const n=a("td");t[i]&&t[i].length||(t[i]=""),n.innerHTML=t[i],n.data=t[i],e.appendChild(n)})),e}render(t){return t}add(t){if(Array.isArray(t)){const e=this.dt;Array.isArray(t[0])?t.forEach((t=>{e.data.push(this.build(t))})):e.data.push(this.build(t)),e.data.length&&(e.hasRows=!0),this.update(),e.columns().rebuild()}}remove(t){const e=this.dt;Array.isArray(t)?(t.sort(((t,e)=>e-t)),t.forEach((t=>{e.data.splice(t,1)}))):"all"==t?e.data=[]:e.data.splice(t,1),e.data.length||(e.hasRows=!1),this.update(),e.columns().rebuild()}update(){this.dt.data.forEach(((t,e)=>{t.dataIndex=e}))}}class l{constructor(t){return this.dt=t,this}swap(t){if(t.length&&2===t.length){const e=[];this.dt.headings.forEach(((t,a)=>{e.push(a)}));const a=t[0],s=t[1],i=e[s];e[s]=e[a],e[a]=i,this.order(e)}}order(t){let e,a,s,i,n,r,l;const h=[[],[],[],[]],o=this.dt;t.forEach(((t,s)=>{n=o.headings[t],r="false"!==n.getAttribute("data-sortable"),e=n.cloneNode(!0),e.originalCellIndex=s,e.sortable=r,h[0].push(e),o.hiddenColumns.includes(t)||(a=n.cloneNode(!0),a.originalCellIndex=s,a.sortable=r,h[1].push(a))})),o.data.forEach(((e,a)=>{s=e.cloneNode(!1),i=e.cloneNode(!1),s.dataIndex=i.dataIndex=a,null!==e.searchIndex&&void 0!==e.searchIndex&&(s.searchIndex=i.searchIndex=e.searchIndex),t.forEach((t=>{l=e.cells[t].cloneNode(!0),l.data=e.cells[t].data,s.appendChild(l),o.hiddenColumns.includes(t)||(l=e.cells[t].cloneNode(!0),l.data=e.cells[t].data,i.appendChild(l))})),h[2].push(s),h[3].push(i)})),o.headings=h[0],o.activeHeadings=h[1],o.data=h[2],o.activeRows=h[3],o.update()}hide(t){if(t.length){const e=this.dt;t.forEach((t=>{e.hiddenColumns.includes(t)||e.hiddenColumns.push(t)})),this.rebuild()}}show(t){if(t.length){let e;const a=this.dt;t.forEach((t=>{e=a.hiddenColumns.indexOf(t),e>-1&&a.hiddenColumns.splice(e,1)})),this.rebuild()}}visible(t){let e;const a=this.dt;return t=t||a.headings.map((t=>t.originalCellIndex)),isNaN(t)?Array.isArray(t)&&(e=[],t.forEach((t=>{e.push(!a.hiddenColumns.includes(t))}))):e=!a.hiddenColumns.includes(t),e}add(t){let e;const a=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[t.heading],data:t.data.map((t=>[t]))}),void this.rebuild();this.dt.hiddenHeader?a.innerHTML="":t.heading.nodeName?a.appendChild(t.heading):a.innerHTML=t.heading,this.dt.headings.push(a),this.dt.data.forEach(((a,s)=>{t.data[s]&&(e=document.createElement("td"),t.data[s].nodeName?e.appendChild(t.data[s]):e.innerHTML=t.data[s],e.data=e.innerHTML,t.render&&(e.innerHTML=t.render.call(this,e.data,e,a)),a.appendChild(e))})),t.type&&a.setAttribute("data-type",t.type),t.format&&a.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&(a.sortable=t.sortable,a.setAttribute("data-sortable",!0===t.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()}remove(t){Array.isArray(t)?(t.sort(((t,e)=>e-t)),t.forEach((t=>this.remove(t)))):(this.dt.headings.splice(t,1),this.dt.data.forEach((e=>{e.removeChild(e.cells[t])}))),this.rebuild()}filter(t,e,a,s){const i=this.dt;if(i.filterState||(i.filterState={originalData:i.data}),!i.filterState[t]){const e=[...s,()=>!0];i.filterState[t]=function(){let t=0;return()=>e[t++%e.length]}()}const n=i.filterState[t](),r=Array.from(i.filterState.originalData).filter((e=>{const a=e.cells[t],s=a.hasAttribute("data-content")?a.getAttribute("data-content"):a.innerText;return"function"==typeof n?n(s):s===n}));i.data=r,this.rebuild(),i.update(),a||i.emit("datatable.sort",t,e)}sort(t,e,a){const s=this.dt;if(s.hasHeadings&&(t<0||t>s.headings.length))return!1;const i=s.options.filters&&s.options.filters[s.headings[t].textContent];if(i&&0!==i.length)return void this.filter(t,e,a,i);s.sorting=!0,a||s.emit("datatable.sorting",t,e);let r=s.data;const l=[],h=[];let o=0,d=0;const c=s.headings[t],u=[];if("date"===c.getAttribute("data-type")){let t=!1;c.hasAttribute("data-format")&&(t=c.getAttribute("data-format")),u.push(Promise.resolve().then((function(){return f})).then((({parseDate:e})=>a=>e(a,t))))}Promise.all(u).then((i=>{const u=i[0];let p,f;Array.from(r).forEach((e=>{const a=e.cells[t],s=a.hasAttribute("data-content")?a.getAttribute("data-content"):a.innerText;let i;i=u?u(s):"string"==typeof s?s.replace(/(\$|,|\s|%)/g,""):s,parseFloat(i)==i?h[d++]={value:Number(i),row:e}:l[o++]={value:"string"==typeof s?s.toLowerCase():s,row:e}})),e||(e=c.classList.contains("asc")?"desc":"asc"),"desc"==e?(p=n(l,-1),f=n(h,-1),c.classList.remove("asc"),c.classList.add("desc")):(p=n(h,1),f=n(l,1),c.classList.remove("desc"),c.classList.add("asc")),s.lastTh&&c!=s.lastTh&&(s.lastTh.classList.remove("desc"),s.lastTh.classList.remove("asc")),s.lastTh=c,r=p.concat(f),s.data=[];const g=[];r.forEach(((t,e)=>{s.data.push(t.row),null!==t.row.searchIndex&&void 0!==t.row.searchIndex&&g.push(e)})),s.searchData=g,this.rebuild(),s.update(),a||s.emit("datatable.sort",t,e)}))}rebuild(){let t,e,a,s;const i=this.dt,n=[];i.activeRows=[],i.activeHeadings=[],i.headings.forEach(((t,e)=>{t.originalCellIndex=e,t.sortable="false"!==t.getAttribute("data-sortable"),i.hiddenColumns.includes(e)||i.activeHeadings.push(t)})),i.data.forEach(((r,l)=>{t=r.cloneNode(!1),e=r.cloneNode(!1),t.dataIndex=e.dataIndex=l,null!==r.searchIndex&&void 0!==r.searchIndex&&(t.searchIndex=e.searchIndex=r.searchIndex),Array.from(r.cells).forEach((n=>{a=n.cloneNode(!0),a.data=n.data,t.appendChild(a),i.hiddenColumns.includes(a.cellIndex)||(s=a.cloneNode(!0),s.data=a.data,e.appendChild(s))})),n.push(t),i.activeRows.push(e)})),i.data=n,i.update()}}const h=function(t){let e=!1,s=!1;if((t=t||this.options.data).headings){e=a("thead");const s=a("tr");t.headings.forEach((t=>{const e=a("th",{html:t});s.appendChild(e)})),e.appendChild(s)}t.data&&t.data.length&&(s=a("tbody"),t.data.forEach((e=>{if(t.headings&&t.headings.length!==e.length)throw new Error("The number of rows do not match the number of headings.");const i=a("tr");e.forEach((t=>{const e=a("td",{html:t});i.appendChild(e)})),s.appendChild(i)}))),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(e)),s&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(s))},o={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"▴",descText:"▾",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,hiddenHeader:!1,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};class d{constructor(t,e={}){if(this.initialized=!1,this.options={...o,...e,layout:{...o.layout,...e.layout},labels:{...o.labels,...e.labels}},"string"==typeof t&&(t=document.querySelector(t)),this.initialLayout=t.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()}static extend(t,e){"function"==typeof e?d.prototype[t]=e:d[t]=e}init(t){if(this.initialized||this.table.classList.contains("dataTable-table"))return!1;Object.assign(this.options,t||{}),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout((()=>{this.emit("datatable.init"),this.initialized=!0,this.options.plugins&&Object.entries(this.options.plugins).forEach((([t,e])=>{this[t]&&"function"==typeof this[t]&&(this[t]=this[t](e,{createElement:a}),e.enabled&&this[t].init&&"function"==typeof this[t].init&&this[t].init())}))}),10)}render(t){if(t){switch(t){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}const e=this.options;let s="";if(e.data&&h.call(this),this.body=this.table.tBodies[0],this.head=this.table.tHead,this.foot=this.table.tFoot,this.body||(this.body=a("tbody"),this.table.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){const t=a("thead"),s=a("tr");this.hasRows&&(Array.from(this.body.rows[0].cells).forEach((()=>{s.appendChild(a("th"))})),t.appendChild(s)),this.head=t,this.table.insertBefore(this.head,this.body),this.hiddenHeader=e.hiddenHeader}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),e.header||this.head&&this.table.removeChild(this.table.tHead),e.footer?this.head&&!this.foot&&(this.foot=a("tfoot",{html:this.head.innerHTML}),this.table.appendChild(this.foot)):this.foot&&this.table.removeChild(this.table.tFoot),this.wrapper=a("div",{class:"dataTable-wrapper dataTable-loading"}),s+="<div class='dataTable-top'>",s+=e.layout.top,s+="</div>",e.scrollY.length?s+=`<div class='dataTable-container' style='height: ${e.scrollY}; overflow-Y: auto;'></div>`:s+="<div class='dataTable-container'></div>",s+="<div class='dataTable-bottom'>",s+=e.layout.bottom,s+="</div>",s=s.replace("{info}",e.paging?"<div class='dataTable-info'></div>":""),e.paging&&e.perPageSelect){let t="<div class='dataTable-dropdown'><label>";t+=e.labels.perPage,t+="</label></div>";const i=a("select",{class:"dataTable-selector"});e.perPageSelect.forEach((t=>{const a=t===e.perPage,s=new Option(t,t,a,a);i.add(s)})),t=t.replace("{select}",i.outerHTML),s=s.replace("{select}",t)}else s=s.replace("{select}","");if(e.searchable){const t=`<div class='dataTable-search'><input class='dataTable-input' placeholder='${e.labels.placeholder}' type='text'></div>`;s=s.replace("{search}",t)}else s=s.replace("{search}","");this.hasHeadings&&this.render("header"),this.table.classList.add("dataTable-table");const i=a("nav",{class:"dataTable-pagination"}),n=a("ul",{class:"dataTable-pagination-list"});i.appendChild(n),s=s.replace(/\{pager\}/g,i.outerHTML),this.wrapper.innerHTML=s,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination-list"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=this.table.getBoundingClientRect(),this.data=Array.from(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),this.setColumns(),this.fixHeight(),this.fixColumns(),e.header||this.wrapper.classList.add("no-header"),e.footer||this.wrapper.classList.add("no-footer"),e.sortable&&this.wrapper.classList.add("sortable"),e.searchable&&this.wrapper.classList.add("searchable"),e.fixedHeight&&this.wrapper.classList.add("fixed-height"),e.fixedColumns&&this.wrapper.classList.add("fixed-columns"),this.bindEvents()}renderPage(){if(this.hasHeadings&&(s(this.header),this.activeHeadings.forEach((t=>this.header.appendChild(t)))),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);const t=this.currentPage-1,e=document.createDocumentFragment();this.pages[t].forEach((t=>e.appendChild(this.rows().render(t)))),this.clear(e),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);let t,e=0,a=0,i=0;if(this.totalPages&&(e=this.currentPage-1,a=e*this.options.perPage,i=a+this.pages[e].length,a+=1,t=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){const e=this.options.labels.info.replace("{start}",a).replace("{end}",i).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",t);this.label.innerHTML=t?e:""}1==this.currentPage&&this.fixHeight()}renderPager(){if(s(this.pagers),this.totalPages>1){const t="pager",e=document.createDocumentFragment(),s=this.onFirstPage?1:this.currentPage-1,n=this.onLastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&e.appendChild(i(t,1,this.options.firstText)),this.options.nextPrev&&e.appendChild(i(t,s,this.options.prevText));let r=this.links;this.options.truncatePager&&(r=((t,e,s,i,n)=>{let r;const l=2*(i=i||2);let h=e-i,o=e+i;const d=[],c=[];e<4-i+l?o=3+l:e>s-(3-i+l)&&(h=s-(2+l));for(let e=1;e<=s;e++)if(1==e||e==s||e>=h&&e<=o){const a=t[e-1];a.classList.remove("active"),d.push(a)}return d.forEach((e=>{const s=e.children[0].getAttribute("data-page");if(r){const e=r.children[0].getAttribute("data-page");if(s-e==2)c.push(t[e]);else if(s-e!=1){const t=a("li",{class:"ellipsis",html:`<a href="#">${n}</a>`});c.push(t)}}c.push(e),r=e})),c})(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),this.links[this.currentPage-1].classList.add("active"),r.forEach((t=>{t.classList.remove("active"),e.appendChild(t)})),this.links[this.currentPage-1].classList.add("active"),this.options.nextPrev&&e.appendChild(i(t,n,this.options.nextText)),this.options.firstLast&&e.appendChild(i(t,this.totalPages,this.options.lastText)),this.pagers.forEach((t=>{t.appendChild(e.cloneNode(!0))}))}}renderHeader(){this.labels=[],this.headings&&this.headings.length&&this.headings.forEach(((t,e)=>{if(this.labels[e]=t.textContent,t.firstElementChild&&t.firstElementChild.classList.contains("dataTable-sorter")&&(t.innerHTML=t.firstElementChild.innerHTML),t.sortable="false"!==t.getAttribute("data-sortable"),t.originalCellIndex=e,this.options.sortable&&t.sortable){const e=a("a",{href:"#",class:"dataTable-sorter",html:t.innerHTML});t.innerHTML="",t.setAttribute("data-sortable",""),t.appendChild(e)}})),this.fixColumns()}bindEvents(){const t=this.options;if(t.perPageSelect){const e=this.wrapper.querySelector(".dataTable-selector");e&&e.addEventListener("change",(()=>{t.perPage=parseInt(e.value,10),this.update(),this.fixHeight(),this.emit("datatable.perpage",t.perPage)}),!1)}t.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&this.input.addEventListener("keyup",(()=>this.search(this.input.value)),!1)),this.wrapper.addEventListener("click",(e=>{const a=e.target.closest("a");a&&"a"===a.nodeName.toLowerCase()&&(a.hasAttribute("data-page")?(this.page(a.getAttribute("data-page")),e.preventDefault()):t.sortable&&a.classList.contains("dataTable-sorter")&&"false"!=a.parentNode.getAttribute("data-sortable")&&(this.columns().sort(this.headings.indexOf(a.parentNode)),e.preventDefault()))}),!1),window.addEventListener("resize",(()=>{this.rect=this.container.getBoundingClientRect(),this.fixColumns()}))}setColumns(t){t||this.data.forEach((t=>{Array.from(t.cells).forEach((t=>{t.data=t.innerHTML}))})),this.options.columns&&this.headings.length&&this.options.columns.forEach((t=>{Array.isArray(t.select)||(t.select=[t.select]),t.hasOwnProperty("render")&&"function"==typeof t.render&&(this.selectedColumns=this.selectedColumns.concat(t.select),this.columnRenderers.push({columns:t.select,renderer:t.render})),t.select.forEach((e=>{const a=this.headings[e];t.type&&a.setAttribute("data-type",t.type),t.format&&a.setAttribute("data-format",t.format),t.hasOwnProperty("sortable")&&a.setAttribute("data-sortable",t.sortable),t.hasOwnProperty("hidden")&&!1!==t.hidden&&this.columns().hide([e]),t.hasOwnProperty("sort")&&1===t.select.length&&this.columns().sort(t.select[0],t.sort,!0)}))})),this.hasRows&&(this.data.forEach(((t,e)=>{t.dataIndex=e,Array.from(t.cells).forEach((t=>{t.data=t.innerHTML}))})),this.selectedColumns.length&&this.data.forEach((t=>{Array.from(t.cells).forEach(((e,a)=>{this.selectedColumns.includes(a)&&this.columnRenderers.forEach((s=>{s.columns.includes(a)&&(e.innerHTML=s.renderer.call(this,e.data,e,t))}))}))})),this.columns().rebuild()),this.render("header")}destroy(){this.table.innerHTML=this.initialLayout,this.table.classList.remove("dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1}update(){this.wrapper.classList.remove("dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];let t=this.pages.length;for(;t--;){const e=t+1;this.links[t]=i(0===t?"active":"",e,e)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")}paginate(){const t=this.options.perPage;let e=this.activeRows;return this.searching&&(e=[],this.searchData.forEach((t=>e.push(this.activeRows[t])))),this.options.paging?this.pages=e.map(((a,s)=>s%t==0?e.slice(s,s+t):null)).filter((t=>t)):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this.totalPages}fixColumns(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){let t,e=!1;if(this.columnWidths=[],this.table.tHead){if(this.options.scrollY.length&&(e=a("thead"),e.appendChild(a("tr")),e.style.height="0px",this.headerTable&&(this.table.tHead=this.headerTable.tHead)),this.activeHeadings.forEach((t=>{t.style.width=""})),this.activeHeadings.forEach(((t,s)=>{const i=t.offsetWidth,n=i/this.rect.width*100;if(t.style.width=`${n}%`,this.columnWidths[s]=i,this.options.scrollY.length){const t=a("th");e.firstElementChild.appendChild(t),t.style.width=`${n}%`,t.style.paddingTop="0",t.style.paddingBottom="0",t.style.border="0"}})),this.options.scrollY.length){const t=this.table.parentElement;if(!this.headerTable){this.headerTable=a("table",{class:"dataTable-table"});const e=a("div",{class:"dataTable-headercontainer"});e.appendChild(this.headerTable),t.parentElement.insertBefore(e,t)}const s=this.table.tHead;this.table.replaceChild(e,s),this.headerTable.tHead=s,this.headerTable.parentElement.style.paddingRight=`${this.headerTable.clientWidth-this.table.clientWidth+parseInt(this.headerTable.parentElement.style.paddingRight||"0",10)}px`,t.scrollHeight>t.clientHeight&&(t.style.overflowY="scroll")}}else{t=[],e=a("thead");const s=a("tr");Array.from(this.table.tBodies[0].rows[0].cells).forEach((()=>{const e=a("th");s.appendChild(e),t.push(e)})),e.appendChild(s),this.table.insertBefore(e,this.body);const i=[];t.forEach(((t,e)=>{const a=t.offsetWidth,s=a/this.rect.width*100;i.push(s),this.columnWidths[e]=a})),this.data.forEach((t=>{Array.from(t.cells).forEach(((t,e)=>{this.columns(t.cellIndex).visible()&&(t.style.width=`${i[e]}%`)}))})),this.table.removeChild(e)}}}fixHeight(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=`${this.rect.height}px`)}search(t){return!!this.hasRows&&(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],t.length?(this.clear(),this.data.forEach(((e,a)=>{const s=this.searchData.includes(e);t.split(" ").reduce(((t,a)=>{let s=!1,i=null,n=null;for(let t=0;t<e.cells.length;t++)if(i=e.cells[t],n=i.hasAttribute("data-content")?i.getAttribute("data-content"):i.textContent,n.toLowerCase().includes(a)&&this.columns(i.cellIndex).visible()){s=!0;break}return t&&s}),!0)&&!s?(e.searchIndex=a,this.searchData.push(a)):e.searchIndex=null})),this.wrapper.classList.add("search-results"),this.searchData.length?this.update():(this.wrapper.classList.remove("search-results"),this.setMessage(this.options.labels.noRows)),void this.emit("datatable.search",t,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),this.wrapper.classList.remove("search-results"),!1))}page(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",t)))}sortColumn(t,e){this.columns().sort(t,e)}insert(t){let s=[];if(e(t)){if(t.headings&&!this.hasHeadings&&!this.hasRows){const e=a("tr");t.headings.forEach((t=>{const s=a("th",{html:t});e.appendChild(s)})),this.head.appendChild(e),this.header=e,this.headings=[].slice.call(e.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}t.data&&Array.isArray(t.data)&&(s=t.data)}else Array.isArray(t)&&t.forEach((t=>{const e=[];Object.entries(t).forEach((([t,a])=>{const s=this.labels.indexOf(t);s>-1&&(e[s]=a)})),s.push(e)}));s.length&&(this.rows().add(s),this.hasRows=!0),this.update(),this.setColumns(),this.fixColumns()}refresh(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")}clear(t){this.body&&s(this.body);let e=this.body;this.body||(e=this.table),t&&("string"==typeof t&&(document.createDocumentFragment().innerHTML=t),e.appendChild(t))}export(t){if(!this.hasHeadings&&!this.hasRows)return!1;const a=this.activeHeadings;let s=[];const i=[];let n,r,l,h;if(!e(t))return!1;const o={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4,...t};if(o.type){if("txt"!==o.type&&"csv"!==o.type||(s[0]=this.header),o.selection)if(isNaN(o.selection)){if(Array.isArray(o.selection))for(n=0;n<o.selection.length;n++)s=s.concat(this.pages[o.selection[n]-1])}else s=s.concat(this.pages[o.selection-1]);else s=s.concat(this.activeRows);if(s.length){if("txt"===o.type||"csv"===o.type){for(l="",n=0;n<s.length;n++){for(r=0;r<s[n].cells.length;r++)if(!o.skipColumn.includes(a[r].originalCellIndex)&&this.columns(a[r].originalCellIndex).visible()){let t=s[n].cells[r].textContent;t=t.trim(),t=t.replace(/\s{2,}/g," "),t=t.replace(/\n/g,"  "),t=t.replace(/"/g,'""'),t=t.replace(/#/g,"%23"),t.includes(",")&&(t=`"${t}"`),l+=t+o.columnDelimiter}l=l.trim().substring(0,l.length-1),l+=o.lineDelimiter}l=l.trim().substring(0,l.length-1),o.download&&(l=`data:text/csv;charset=utf-8,${l}`)}else if("sql"===o.type){for(l=`INSERT INTO \`${o.tableName}\` (`,n=0;n<a.length;n++)!o.skipColumn.includes(a[n].originalCellIndex)&&this.columns(a[n].originalCellIndex).visible()&&(l+=`\`${a[n].textContent}\`,`);for(l=l.trim().substring(0,l.length-1),l+=") VALUES ",n=0;n<s.length;n++){for(l+="(",r=0;r<s[n].cells.length;r++)!o.skipColumn.includes(a[r].originalCellIndex)&&this.columns(a[r].originalCellIndex).visible()&&(l+=`"${s[n].cells[r].textContent}",`);l=l.trim().substring(0,l.length-1),l+="),"}l=l.trim().substring(0,l.length-1),l+=";",o.download&&(l=`data:application/sql;charset=utf-8,${l}`)}else if("json"===o.type){for(r=0;r<s.length;r++)for(i[r]=i[r]||{},n=0;n<a.length;n++)!o.skipColumn.includes(a[n].originalCellIndex)&&this.columns(a[n].originalCellIndex).visible()&&(i[r][a[n].textContent]=s[r].cells[n].textContent);l=JSON.stringify(i,o.replacer,o.space),o.download&&(l=`data:application/json;charset=utf-8,${l}`)}return o.download&&(o.filename=o.filename||"datatable_export",o.filename+=`.${o.type}`,l=encodeURI(l),h=document.createElement("a"),h.href=l,h.download=o.filename,document.body.appendChild(h),h.click(),document.body.removeChild(h)),l}}return!1}import(t){let a=!1;if(!e(t))return!1;const s={lineDelimiter:"\n",columnDelimiter:",",...t};if(s.data.length||e(s.data)){if("csv"===s.type){a={data:[]};const t=s.data.split(s.lineDelimiter);t.length&&(s.headings&&(a.headings=t[0].split(s.columnDelimiter),t.shift()),t.forEach(((t,e)=>{a.data[e]=[];const i=t.split(s.columnDelimiter);i.length&&i.forEach((t=>{a.data[e].push(t)}))})))}else if("json"===s.type){const t=(t=>{let a=!1;try{a=JSON.parse(t)}catch(t){return!1}return!(null===a||!Array.isArray(a)&&!e(a))&&a})(s.data);t&&(a={headings:[],data:[]},t.forEach(((t,e)=>{a.data[e]=[],Object.entries(t).forEach((([t,s])=>{a.headings.includes(t)||a.headings.push(t),a.data[e].push(s)}))})))}e(s.data)&&(a=s.data),a&&this.insert(a)}return!1}print(){const t=this.activeHeadings,e=this.activeRows,s=a("table"),i=a("thead"),n=a("tbody"),r=a("tr");t.forEach((t=>{r.appendChild(a("th",{html:t.textContent}))})),i.appendChild(r),e.forEach((t=>{const e=a("tr");Array.from(t.cells).forEach((t=>{e.appendChild(a("td",{html:t.textContent}))})),n.appendChild(e)})),s.appendChild(i),s.appendChild(n);const l=window.open();l.document.body.appendChild(s),l.print()}setMessage(t){let e=1;this.hasRows?e=this.data[0].cells.length:this.activeHeadings.length&&(e=this.activeHeadings.length),this.wrapper.classList.add("dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(a("tr",{html:`<td class="dataTables-empty" colspan="${e}">${t}</td>`}))}columns(t){return new l(this,t)}rows(t){return new r(this,t)}on(t,e){this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e)}off(t,e){this.events=this.events||{},t in this.events!=0&&this.events[t].splice(this.events[t].indexOf(e),1)}emit(t){if(this.events=this.events||{},t in this.events!=0)for(let e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}}function c(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var u=c((function(t,e){t.exports=function(){var t="millisecond",e="second",a="minute",s="hour",i="day",n="week",r="month",l="quarter",h="year",o="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,a){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(a)+t},f={s:p,z:function(t){var e=-t.utcOffset(),a=Math.abs(e),s=Math.floor(a/60),i=a%60;return(e<=0?"+":"-")+p(s,2,"0")+":"+p(i,2,"0")},m:function t(e,a){if(e.date()<a.date())return-t(a,e);var s=12*(a.year()-e.year())+(a.month()-e.month()),i=e.clone().add(s,r),n=a-i<0,l=e.clone().add(s+(n?-1:1),r);return+(-(s+(a-i)/(n?i-l:l-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return{M:r,y:h,w:n,d:i,D:o,h:s,m:a,s:e,ms:t,Q:l}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",b={};b[g]=u;var m=function(t){return t instanceof w},y=function(t,e,a){var s;if(!t)return g;if("string"==typeof t)b[t]&&(s=t),e&&(b[t]=e,s=t);else{var i=t.name;b[i]=t,s=i}return!a&&s&&(g=s),s||!a&&g},v=function(t,e){if(m(t))return t.clone();var a="object"==typeof e?e:{};return a.date=t,a.args=arguments,new w(a)},T=f;T.l=y,T.i=m,T.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function u(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=u.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,a=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(d);if(s){var i=s[2]-1||0,n=(s[7]||"0").substring(0,3);return a?new Date(Date.UTC(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)):new Date(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,n)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return T},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var a=v(t);return this.startOf(e)<=a&&a<=this.endOf(e)},p.isAfter=function(t,e){return v(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<v(t)},p.$g=function(t,e,a){return T.u(t)?this[e]:this.set(a,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,l){var d=this,c=!!T.u(l)||l,u=T.p(t),p=function(t,e){var a=T.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return c?a:a.endOf(i)},f=function(t,e){return T.w(d.toDate()[t].apply(d.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},g=this.$W,b=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return c?p(1,0):p(31,11);case r:return c?p(1,b):p(0,b+1);case n:var v=this.$locale().weekStart||0,w=(g<v?g+7:g)-v;return p(c?m-w:m+(6-w),b);case i:case o:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case e:return f(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(n,l){var d,c=T.p(n),u="set"+(this.$u?"UTC":""),p=(d={},d[i]=u+"Date",d[o]=u+"Date",d[r]=u+"Month",d[h]=u+"FullYear",d[s]=u+"Hours",d[a]=u+"Minutes",d[e]=u+"Seconds",d[t]=u+"Milliseconds",d)[c],f=c===i?this.$D+(l-this.$W):l;if(c===r||c===h){var g=this.clone().set(o,1);g.$d[p](f),g.init(),this.$d=g.set(o,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[T.p(t)]()},p.add=function(t,l){var o,d=this;t=Number(t);var c=T.p(l),u=function(e){var a=v(d);return T.w(a.date(a.date()+Math.round(e*t)),d)};if(c===r)return this.set(r,this.$M+t);if(c===h)return this.set(h,this.$y+t);if(c===i)return u(1);if(c===n)return u(7);var p=(o={},o[a]=6e4,o[s]=36e5,o[e]=1e3,o)[c]||1,f=this.$d.getTime()+t*p;return T.w(f,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var a=t||"YYYY-MM-DDTHH:mm:ssZ",s=T.z(this),i=this.$locale(),n=this.$H,r=this.$m,l=this.$M,h=i.weekdays,o=i.months,d=function(t,s,i,n){return t&&(t[s]||t(e,a))||i[s].substr(0,n)},u=function(t){return T.s(n%12||12,t,"0")},p=i.meridiem||function(t,e,a){var s=t<12?"AM":"PM";return a?s.toLowerCase():s},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:T.s(l+1,2,"0"),MMM:d(i.monthsShort,l,o,3),MMMM:d(o,l),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,h,2),ddd:d(i.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(n),HH:T.s(n,2,"0"),h:u(1),hh:u(2),a:p(n,r,!0),A:p(n,r,!1),m:String(r),mm:T.s(r,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:s};return a.replace(c,(function(t,e){return e||f[t]||s.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,o,d){var c,u=T.p(o),p=v(t),f=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,b=T.m(this,p);return b=(c={},c[h]=b/12,c[r]=b,c[l]=b/3,c[n]=(g-f)/6048e5,c[i]=(g-f)/864e5,c[s]=g/36e5,c[a]=g/6e4,c[e]=g/1e3,c)[u]||g,d?b:T.a(b)},p.daysInMonth=function(){return this.endOf(r).$D},p.$locale=function(){return b[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var a=this.clone(),s=y(t,e,!0);return s&&(a.$L=s),a},p.clone=function(){return T.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},u}(),C=w.prototype;return v.prototype=C,[["$ms",t],["$s",e],["$m",a],["$H",s],["$W",i],["$M",r],["$y",h],["$D",o]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),v.extend=function(t,e){return t.$i||(t(e,w,v),t.$i=!0),v},v.locale=y,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=b[g],v.Ls=b,v.p={},v}()})),p=c((function(t,e){var a,s,i,n,r,l,h,o,d,c,u,p,f;t.exports=(a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,s,i){var n=i&&i.toUpperCase();return s||e[i]||a[i]||e[n].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,a){return e||a.slice(1)}))}))},i=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,h={},d=[/[+-]\d\d:?(\d\d)?/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;var e=t.match(/([+-]|\d\d)/g),a=60*e[1]+(+e[2]||0);return 0===a?0:"+"===e[0]?-a:a}(t)}],c=function(t){var e=h[t];return e&&(e.indexOf?e:e.s.concat(e.f))},u=function(t,e){var a,s=h.meridiem;if(s){for(var i=1;i<=24;i+=1)if(t.indexOf(s(i,0,e))>-1){a=i>12;break}}else a=t===(e?"pm":"PM");return a},p={A:[l=/\d*[^\s\d-:/()]+/,function(t){this.afternoon=u(t,!1)}],a:[l,function(t){this.afternoon=u(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n=/\d\d/,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r=/\d\d?/,(o=function(t){return function(e){this[t]=+e}})("seconds")],ss:[r,o("seconds")],m:[r,o("minutes")],mm:[r,o("minutes")],H:[r,o("hours")],h:[r,o("hours")],HH:[r,o("hours")],hh:[r,o("hours")],D:[r,o("day")],DD:[n,o("day")],Do:[l,function(t){var e=h.ordinal,a=t.match(/\d+/);if(this.day=a[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===t&&(this.day=s)}],M:[r,o("month")],MM:[n,o("month")],MMM:[l,function(t){var e=c("months"),a=(c("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(a<1)throw new Error;this.month=a%12||a}],MMMM:[l,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,o("year")],YY:[n,function(t){t=+t,this.year=t+(t>68?1900:2e3)}],YYYY:[/\d{4}/,o("year")],Z:d,ZZ:d},f=function(t,e,a){try{var n=function(t){for(var e=(t=s(t,h&&h.formats)).match(i),a=e.length,n=0;n<a;n+=1){var r=e[n],l=p[r],o=l&&l[0],d=l&&l[1];e[n]=d?{regex:o,parser:d}:r.replace(/^\[|\]$/g,"")}return function(t){for(var s={},i=0,n=0;i<a;i+=1){var r=e[i];if("string"==typeof r)n+=r.length;else{var l=r.regex,h=r.parser,o=t.substr(n),d=l.exec(o)[0];h.call(s,d),t=t.replace(d,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var a=t.hours;e?a<12&&(t.hours+=12):12===a&&(t.hours=0),delete t.afternoon}}(s),s}}(e)(t),r=n.year,l=n.month,o=n.day,d=n.hours,c=n.minutes,u=n.seconds,f=n.milliseconds,g=n.zone,b=new Date,m=o||(r||l?1:b.getDate()),y=r||b.getFullYear(),v=0;r&&!l||(v=l>0?l-1:b.getMonth());var T=d||0,w=c||0,C=u||0,M=f||0;return g?new Date(Date.UTC(y,v,m,T,w,C,M+60*g.offset*1e3)):a?new Date(Date.UTC(y,v,m,T,w,C,M)):new Date(y,v,m,T,w,C,M)}catch(t){return new Date("")}},function(t,e,a){a.p.customParseFormat=!0;var s=e.prototype,i=s.parse;s.parse=function(t){var e=t.date,s=t.utc,n=t.args;this.$u=s;var r=n[1];if("string"==typeof r){var l=!0===n[2],o=!0===n[3],d=l||o,c=n[2];o&&(c=n[2]),h=this.$locale(),!l&&c&&(h=a.Ls[c]),this.$d=f(e,r,s),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),d&&e!==this.format(r)&&(this.$d=new Date("")),h={}}else if(r instanceof Array)for(var u=r.length,p=1;p<=u;p+=1){n[1]=r[p-1];var g=a.apply(this,n);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===u&&(this.$d=new Date(""))}else i.call(this,t)}})}));u.extend(p);var f=Object.freeze({__proto__:null,parseDate:(t,e)=>{let a=!1;if(e)switch(e){case"ISO_8601":a=t;break;case"RFC_2822":a=u(t,"ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");break;case"MYSQL":a=u(t,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");break;case"UNIX":a=u(t).unix();break;default:a=u(t,e).format("YYYYMMDD")}return a}});class g{static NewElement(t="div",e={},a=[]){let s=document.createElement(t);return this.SetStyle(s,e,a),s}static SetStyle(t,e={},a=[]){return Object.keys(e).forEach((a=>{t.style.setProperty(a,e[a])})),Array.isArray(a)&&a.forEach((e=>{t.classList.add(e)})),t.style}}class b{static ToUpperFirstLetter([t,...e]){return[t.toUpperCase(),...e].join("")}}const m="WP_Plugin_UserTable",y={"pointer-events":"none"},v={position:"absolute",width:"100%",height:"auto",display:"flex","justify-content":"center"},T={margin:"auto",width:"50vw",height:"50vh",animation:"LoadingIn 1.6s ease forwards"},w={animation:"LoadingIn 1.6s ease forwards"},C={animation:"FadingIn 1.6s ease forwards"},M={animation:"FadingOut 1.6s ease forwards"},D={position:"relative"},S={Container:{transition:"width 2s",width:"0%"},Action:{Show:{width:"50%"},Hide:{width:"0%"}}},L={Container:{width:"100%",display:"flex","flex-direction":"column"},Header:{"text-align":"center"},Action:{Show:{width:"100%"}}};(new class{constructor(){this.MainContent=document.getElementById("site-content"),this.Table={Data:[],Loading:!1,LoadingScreen:null,DOMTable:null,Class:null,Head:{Cells:[]},DataScreen:{Hidden:!0,Loading:!1,Data:null,Error:!1}}}PreparePropertyContainer(t,e,a){null===this.Table[t]?(this.Table[t]=g.NewElement(e,a),this.MainContent.appendChild(this.Table[t])):this.Table[t].innerHTML=""}async StartLoading(){if(this.Table.Loading=!0,null===this.Table.LoadingScreen){this.PreparePropertyContainer("LoadingScreen","div",{...v,...y});let t=g.NewElement("div",T);t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="177px" height="177px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" r="34" stroke-width="8" stroke="#85a2b6" stroke-dasharray="53.40707511102649 53.40707511102649" fill="none" stroke-linecap="round">  <animateTransform attributeName="transform" type="rotate" dur="1.3513513513513513s" repeatCount="indefinite" keyTimes="0;1" values="0 50 50;360 50 50"></animateTransform></circle><circle cx="50" cy="50" r="25" stroke-width="8" stroke="#bbcedd" stroke-dasharray="39.269908169872416 39.269908169872416" stroke-dashoffset="39.269908169872416" fill="none" stroke-linecap="round">  <animateTransform attributeName="transform" type="rotate" dur="1.3513513513513513s" repeatCount="indefinite" keyTimes="0;1" values="0 50 50;-360 50 50"></animateTransform></circle>\x3c!-- [ldio] generated by https://loading.io/ --\x3e</svg>',g.SetStyle(this.Table.LoadingScreen,C),this.Table.LoadingScreen.appendChild(t)}else g.SetStyle(this.Table.LoadingScreen,M)}async StopLoading(){this.Table.Loading=!1,g.SetStyle(this.Table.LoadingScreen.children[0],w),g.SetStyle(this.Table.LoadingScreen,M)}async GetUsers(){this.StartLoading(),fetch("https://jsonplaceholder.typicode.com/users").then((async t=>{t.ok?(this.Table.Data=await t.json(),this.DisplayUsers()):(this.PreparePropertyContainer("DOMTable","div",v),this.CreateFullScreenMessage(this.Table.DOMTable,"Sorry, couldn't fetch your information",{},["ErrorMessage"]),this.StopLoading())})).catch((t=>{this.PreparePropertyContainer("DOMTable","div",v),this.CreateFullScreenMessage(this.Table.DOMTable,"Sorry, couldn't fetch your information. Reason: "+t.message,{},["ErrorMessage"]),this.StopLoading()}))}async LoadUserData(t){if(!this.Table.DataScreen.Loading){if(this.Table.DataScreen.Loading=!0,t.target.dataset.id===this.Table.DataScreen.Data&&!this.Table.DataScreen.Hidden)return g.SetStyle(this.Table.DOMTable.children[1].children[0],M),g.SetStyle(this.Table.DOMTable.children[1],S.Action.Hide),this.Table.DataScreen.Error=!1,this.Table.DataScreen.Hidden=!0,this.Table.DataScreen.Data=null,void(this.Table.DataScreen.Loading=!1);this.Table.DataScreen.Hidden&&(g.SetStyle(this.Table.DOMTable.children[1],S.Action.Show),this.Table.DataScreen.Hidden=!1),this.Table.DataScreen.Data=t.target.dataset.id,fetch("https://jsonplaceholder.typicode.com/users/"+t.target.dataset.id).then((async t=>{this.Table.DataScreen.Error&&g.SetStyle(this.Table.DOMTable.children[1].children[0],M),this.Table.DataScreen.Error=!1,this.Table.DOMTable.children[1].innerHTML="";let e=g.NewElement("div",{height:document.querySelector("#"+m).getBoundingClientRect().height+"px","margin-top":document.querySelector(".dataTable-top").getBoundingClientRect().height+"px"},["WP_Plugin-data-container"]);this.Table.DOMTable.children[1].appendChild(e),t=await t.json(),await this.IterateProperty(t,e)})).catch((t=>{this.Table.DataScreen.Error||(this.Table.DataScreen.Error=!0,this.Table.DOMTable.children[1].innerHTML="",this.CreateFullScreenMessage(this.Table.DOMTable.children[1],"Sorry, couldn't fetch your information. Reason: "+t.message,{},["ErrorMessage"])),g.SetStyle(this.Table.DOMTable.children[1].children[0],C)})),this.Table.DataScreen.Loading=!1}}async IterateProperty(t,e){Object.keys(t).forEach((a=>{let s=g.NewElement("div",{},["WP_Plugin-data-field"]);e.appendChild(s);let i=g.NewElement("div",{},["WP_Plugin-data-field-header"]);if(i.innerHTML=b.ToUpperFirstLetter(a),s.appendChild(i),Object.isExtensible(t[a])&&!Array.isArray(t[a]))g.SetStyle(i,L.Header),this.IterateProperty(t[a],e);else{let e=g.NewElement("div",{},["WP_Plugin-data-field-content"]);e.innerHTML=t[a],s.appendChild(e)}g.SetStyle(s,L.Action.Show)}))}async DisplayUsers(){if(this.PreparePropertyContainer("DOMTable","div",v),Array.isArray(this.Table.Data)&&this.Table.Data.length>0){await this.PrepareTable();let t=this.Table.DOMTable.children[0].children[1],e=0;this.Table.Data.forEach((a=>{let s=null,i=0,n=g.NewElement("tr");Object.keys(a).forEach((t=>{if(0===i&&(s=t),i>=4||Object.isExtensible(a[t])&&!Array.isArray(a[t]))return;let r=g.NewElement("td");if(i<3){let i=g.NewElement("a");i.innerHTML=a[t],i.setAttribute("data-id",a[s]),i.addEventListener("click",(()=>{console.log("1")})),e=i,r.appendChild(i)}else r.innerHTML=a[t];n.appendChild(r),i++})),t.appendChild(n)})),g.SetStyle(this.Table.DOMTable,D),this.StopLoading(),this.Table.Class=new d("#"+m);let a=this.LoadUserData.bind(this);this.Table.Class.on("datatable.init",(function(t){Array.from(document.querySelector("#"+m).children[1].children).forEach((t=>{Array.from(t.children).forEach((t=>{t.children.length>0&&t.children[0].addEventListener("click",a)}))}))}))}else this.CreateFullScreenMessage(this.Table.DOMTable,"Sorry, couldn't fetch your information",{},["ErrorMessage"]),this.StopLoading()}async CreateFullScreenMessage(t,e,a={background:"transparent",color:"black",border:"none"}){let s=g.NewElement("p",a);return s.innerHTML=e,g.SetStyle(t,C),t.appendChild(s),s}PreapreTableHeader(){let t=this.Table.Data,e=this.Table.Head.Cells;if(Array.isArray(t)&&t.length>0){let a=g.NewElement("tr");Object.keys(t[0]).forEach((s=>{if(!(e.length>=4||Object.isExtensible(t[0][s])&&!Array.isArray(t[0][s]))){let t=g.NewElement("th");t.innerHTML=b.ToUpperFirstLetter(s),a.appendChild(t),e.push(s)}})),this.Table.DOMTable.children[0].children[0].appendChild(a)}}async PrepareTable(){let t=g.NewElement("table");t.id=m,t.className=m,t.appendChild(g.NewElement("thead")),t.appendChild(g.NewElement("tbody")),this.Table.DOMTable.appendChild(t),this.Table.DOMTable.appendChild(g.NewElement("div",{},["WP_Plugin_data-screen"])),this.PreapreTableHeader()}}).GetUsers()})();